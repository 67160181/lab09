# คำถามทดสอบความเข้าใจ (Assessment Questions)

---

## ส่วนที่ 1: ความเข้าใจเทคนิค Pomodoro

### คำถาม 1.1 เทคนิค Pomodoro คืออะไร เหตุใดจึงเลือกใช้เวลา 25 นาที สำหรับการทำงาน

→ เทคนิคบริหารเวลาที่คิดโดย Francesco Cirillo ให้ทำงาน 25 นาทีเพราะเป็นช่วงเวลาที่สมองโฟกัสได้ดีโดยไม่ล้าเกินไป

### คำถาม 1.2 หากต้องการปรับเวลา Work/Break ให้แตกต่างจาก default (25/5) จะต้องแก้ไขโค้ดส่วนไหน

→ แก้ที่ state.workDuration, state.breakDuration และค่าจาก workTimeInput / breakTimeInput

### คำถาม 1.3 ทำไมหลังจาก 4 รอบ (pomodoros) จึงมี Long Break ขนาด 15 นาที ประโยชน์คืออะไร

→ เพราะโค้ดเช็ค state.currentSession % 4 === 0 เพื่อให้พักยาว ลดความล้าสะสมหลังทำงาน 4 รอบ

---

## ส่วนที่ 2: การจัดโครงสร้าง State

### คำถาม 2.1 ปัจจุบัน app เก็บ state อะไรบ้าง

→ isRunning, isWorkPhase, timeLeft, totalTime, currentSession, completedSessions, intervalId, workDuration, breakDuration, longBreakDuration

### คำถาม 2.2 ทำไมจึงต้องมี rounds state หากแค่เก็บ phase ก็พอ

→ เพราะ currentSession ใช้นับรอบเพื่อเช็คครบ 4 ครั้งสำหรับ Long Break ซึ่ง phase อย่างเดียวไม่พอ

### คำถาม 2.3 ถ้าต้องการให้ Pomodoro Count อัปเดต เมื่อจบแต่ละ Work phase จะแก้ไขฟังก์ชัน completePhase() ยังไง

→ เพิ่ม completedSessions++ ภายในเงื่อนไข if (state.isWorkPhase) ตอนหมดเวลา

---

## ส่วนที่ 3: Timer Logic

### คำถาม 3.1 อธิบายการทำงานของ setInterval() ในส่วน timer - จะเกิดอะไรขึ้นทุก 1 วินาที

→ ทุก 1 วินาที state.timeLeft-- แล้วเช็คว่าหมดเวลาหรือยังและเรียก updateDisplay()

### คำถาม 3.2 เหตุใดจึงต้องมี timerInterval เป็น global variable ถ้าไม่มี app จะเป็นยังไง

→ เพราะต้องใช้ state.intervalId กับ clearInterval() หากไม่เก็บไว้จะหยุด timer ไม่ได้

### คำถาม 3.3 ถ้าผู้ใช้คลิก “เริ่ม” 2 ครั้งติดต่อกัน จะเกิดอะไรขึ้น มีวิธีแก้หรือไม่

→ โค้ดปัจจุบันจะสลับเป็น pause เพราะเช็ค state.isRunning จึงไม่เกิด interval ซ้อน

---

## ส่วนที่ 4: DOM & UI

### คำถาม 4.1 ฟังก์ชัน updateDisplay() ทำอะไร ต้องเรียกจากที่ไหนบ้าง

→ อัปเดตเวลา session progress bar phase ปุ่ม และ stats โดยเรียกทุก tick และหลัง start/reset

### คำถาม 4.2 formatTime() ใช้ padding ด้วย padStart(2, "0") เพื่ออะไร ถ้าไม่มี timer จะแสดง 5:3 แทน 05:03 ได้หรือไม่

→ เพื่อให้ตัวเลขครบ 2 หลัก หากไม่มีจะแสดง 5:3 ได้

### คำถาม 4.3 Progress bar คำนวณเปอร์เซ็นต์ยังไง เขียนสูตรออกมา

→ ((state.totalTime - state.timeLeft) / state.totalTime) \* 100

---

## ส่วนที่ 5: Events & Controls

### คำถาม 5.1 ปุ่มควบคุมมีอะไรบ้าง (Start, Pause, Reset, Settings) แต่ละปุ่มเรียกฟังก์ชันไหน

→ Start/Pause ใช้ startTimer(), Reset ใช้ resetTimer(), Settings ใช้ event change ของ input

### คำถาม 5.2 ทำไม Pause ต้องหยุด timer ด้วย clearInterval() หากไม่ทำจะไปไป

→ ถ้าไม่ clearInterval() timer จะยังลดเวลาอยู่เบื้องหลัง

### คำถาม 5.3 Reset button ควรตั้งค่ากลับเป็นอะไร

→ timeLeft = workDuration, isWorkPhase = true, currentSession = 1, clearInterval(intervalId), isRunning = false

---

## ส่วนที่ 6: Notifications & Sound

### คำถาม 6.1 ฟังก์ชัน playSound() ใช้เทคนิคอะไรในการสร้างเสียง (Web Audio API? HTML Audio?)

→ ใช้ Web Audio API ผ่าน AudioContext และ Oscillator

### คำถาม 6.2 ทำไม notification ควร work/break ต่างกันอย่างไร เสียง alarm ที่ดีควรเป็นยังไง

→ เพื่อแยกบริบทการทำงาน เสียงควรสั้น ชัด และไม่รบกวนเกินไป

### คำถาม 6.3 ถ้าต้องการเพิ่ม Desktop Notification ด้วย Browser Notification API จะแก้ไขฟังก์ชัน completePhase() ยังไง

→ เพิ่ม new Notification() หลัง playNotification() ภายในส่วนหมดเวลา

---

## ส่วนที่ 7: Progress Tracking & Stats

### คำถาม 7.1 Stats ต้องติดตามข้อมูลอะไร

→ completedSessions และเวลารวมที่คำนวณจาก completedSessions \* workDuration

### คำถาม 7.2 ตำแหน่งที่ดีที่สุดในการอัปเดต stats คือที่ไหน

→ ในส่วนที่จบ Work phase ภายใน setInterval callback

### คำถาม 7.3 วิธีการบันทึก stats ไว้ใน LocalStorage ได้อย่างไร

→ ใช้ localStorage.setItem("stats", JSON.stringify(state)) แล้วโหลดด้วย JSON.parse()

---

## ส่วนที่ 8: Bug Detection

### คำถาม 8.1 ถ้า timer กำลังเดินอยู่ แล้วผู้ใช้เปิด DevTools ขนาดใหญ่ timer จะยังคงเดินต่อหรือไม่

→ ยังเดินต่อแต่ browser อาจ throttle หาก tab ไม่ active

### คำถาม 8.2 ถ้า completePhase() เรียก ในขณะที่ timer ยังวิ่งอยู่ จะเกิด memory leak ได้หรือไม่

→ หากไม่ clearInterval() ก่อนอาจเกิด interval ซ้อนและ memory leak ได้

### คำถาม 8.3 ใน mobile ถ้าผู้ใช้ล็อก screen ขณะ timer เดิน timer จะหยุดหรือยังคงเดิน วิธีแก้คืออะไร

→ อาจถูก pause หรือชะลอ วิธีแก้คือใช้ Date.now() คำนวณเวลาจริงแทนลดทีละ 1

---

## ส่วนที่ 9: Architecture & Code Quality

### คำถาม 9.1 ถ้าต้องการแยก Timer logic ออกจาก UI ควรสร้าง class อย่างไร

→ สร้าง class Timer ที่จัดการ start(), pause(), reset() และส่ง callback กลับไป UI

### คำถาม 9.2 Functions ที่มีมากควรจัดไว้ใน object เพื่อจัดการได้ดีขึ้นหรือไม่

→ ควร เพื่อหลีกเลี่ยง global scope และทำให้โครงสร้างชัดเจน

### คำถาม 9.3 Code reusability - ส่วนไหนของโค้ดสามารถทำให้เป็น utility functions ได้

→ formatTime(), showNotification(), playNotification()

---

## ส่วนที่ 10: Enhancements

### คำถาม 10.1 วิธีเพิ่ม Dark Mode ควรแก้ไข CSS/JS ส่วนไหนบ้าง

→ เพิ่ม class เช่น body.dark ใน CSS และใช้ classList.toggle() ใน JS

### คำถาม 10.2 วิธีบันทึกประวัติการใช้งาน (session history) คืออะไร

→ เก็บ array ของ session แล้วบันทึกลง LocalStorage ทุกครั้งที่จบ Work

### คำถาม 10.3 วิธีเพิ่ม Keyboard Shortcuts (Space = Start/Pause, R = Reset) ควรใช้ event ไหน

→ ใช้ document.addEventListener("keydown")
